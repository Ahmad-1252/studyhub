{% extends 'base/main.html' %}

{% load static %}

{% block content %}
    {% if page == 'login' %}
      <main class="auth layout main-signin">
        <div class="container">
          <div class="layout__box">
            <div class="layout__boxHeader">
              <div class="layout__boxTitle">
                <h3>Login</h3>
              </div>
            </div>
            <div class="layout__body">
              <h2 class="auth__tagline">Find your study partner</h2>
  
              <form class="form" action="" method="post">
                {% csrf_token %}
                <div class="form__group form__group">
                  <label for="username">Username</label>
                  <input id="username" name="username" type="text" placeholder="e.g. @ahmad" />
                </div>
                <div class="form__group">
                  <label for="password">Password</label>
                  <input
                    id="password"
                    name="password"
                    type="password"
                    placeholder="&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;"
                  />
                </div>
  
                <button class="btn btn--main" type="submit">
                  <svg
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    width="32"
                    height="32"
                    viewBox="0 0 32 32"
                  >
                    <title>lock</title>
                    <path
                      d="M27 12h-1v-2c0-5.514-4.486-10-10-10s-10 4.486-10 10v2h-1c-0.553 0-1 0.447-1 1v18c0 0.553 0.447 1 1 1h22c0.553 0 1-0.447 1-1v-18c0-0.553-0.447-1-1-1zM8 10c0-4.411 3.589-8 8-8s8 3.589 8 8v2h-16v-2zM26 30h-20v-16h20v16z"
                    ></path>
                    <path
                      d="M15 21.694v4.306h2v-4.306c0.587-0.348 1-0.961 1-1.694 0-1.105-0.895-2-2-2s-2 0.895-2 2c0 0.732 0.413 1.345 1 1.694z"
                    ></path>
                  </svg>
  
                  Login
                </button>
              </form>
  
              <div class="auth__action">
                <p>Haven't signed up yet?</p>
                <a href="{% url 'register' %}" class="btn btn--link">Sign Up</a>
              </div>
            </div>
          </div>
        </div>
      </main>
  

    {% elif page == 'register' %}
        <main class="auth layout main-signup">
          <div class="container">
            <div class="layout__box">
              <div class="layout__boxHeader">
                <div class="layout__boxTitle">
                  <h3>Sign up</h3>
                </div>
              </div>
              <div class="layout__body">
                <h2 class="auth__tagline">Find your study partner</h2>
    
                <<form class="form" action="" method="post" enctype="multipart/form-data">
                  {% csrf_token %}
                
                  <div class="form__group profile-picture-container">
                    <label for="profile_picture">Profile Picture</label>
                    
                    <div class="profile-picture-preview">
                      {% if user.profile_picture %}
                          <img id="profilePreview" src="{{ user.profile_picture.url }}" alt="Profile Picture">
                      {% else %}
                          <img id="profilePreview" src="{% static 'images/avatar.svg' %}" alt="Default Profile Picture">
                      {% endif %}
                    </div>
                    
                    <input id="profile_picture" name="profile_picture"  type="file" accept="image/*" onchange="previewImage(event)" />
                  </div>
                
                  <div class="form__group">
                    <label for="firstname">First Name</label>
                    <input id="firstname" name="firstname" value="{{ user.first_name }}" type="text" placeholder="e.g. Muhammad Ahmad" />
                  </div>

                  <div class="form__group">
                    <label for="lastname">Last Name</label>
                    <input id="lastname" name="lastname" type="text" value="{{user.last_name}}" placeholder="e.g. Zahoor Ahmad" />
                  </div>
                
                  <div class="form__group">
                    <label for="username">Username</label>
                    <input id="username" name="username" value="{{ user.username }}" type="text" placeholder="e.g. @ahmad" />
                  </div>
                
                  <div class="form__group">
                    <label for="email">Email</label>
                    <input id="email" name="email" type="email" value="{{ user.email }}" placeholder="e.g. myemail@gmail.com" />
                  </div>

                  
                  <div class="form__group">
                    <label for="bio">Bio</label>
                    <textarea id="bio" name="bio" type="text" placeholder="write about youself....." >{{ user.bio }}</textarea>
                  </div>
                  
                  {% if not updation %}
                    
                    
                
                  <div class="form__group">
                    <label for="password">Password</label>
                    <input id="password" name="password" type="password" placeholder="&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;" />
                  </div>
                
                  <div class="form__group">
                    <label for="confirm_password">Confirm Password</label>
                    <input id="confirm_password" name="confirm_password" type="password" placeholder="&bull;&bull;&bull;&bull;&bull;&bull;&bull;&bull;" />
                  </div>

                
                  <button class="btn btn--main" type="submit">Sign Up</button>
                  <div class="auth__action">
                    <p>Already have an account?</p>
                    <a href="{% url 'login' %}" class="btn btn--link">Log In</a>
                  </div>
                  
                  
                  {% endif %}
                  <button class="btn btn--main" type="submit">Update</button>
                </form>
                
    
    {% endif %}
{% endblock content %}